# üöÄ Solo Human: Universal Deployment Guide

This guide provides a comprehensive, step-by-step walkthrough for deploying the **Solo Human** ecosystem to production. Follow these phases to bring your solo social network online.

---

## üõ† Prerequisites

Before you begin, ensure you have accounts with the following services:
- [GitHub](https://github.com/) (Code Hosting)
- [MongoDB Atlas](https://www.mongodb.com/cloud/atlas) (Cloud Database)
- [Render](https://render.com/) or [Railway](https://railway.app/) (Backend Hosting)
- [Vercel](https://vercel.com/) (Frontend Hosting)

---

## üõ∞ Phase 1: Database Setup (MongoDB Atlas)

The Solo Human backend requires a persistent database to store users, quests, and signals.

1.  **Create a Cluster**: Log in to MongoDB Atlas and create a new **FREE (M0)** shared cluster.
2.  **Configure Network Access**:
    - Go to **Network Access** ‚Üí **Add IP Address**.
    - Click **Allow Access from Anywhere** (`0.0.0.0/0`) since hosting providers like Render use dynamic IPs.
3.  **Create Database User**:
    - Go to **Database Access** ‚Üí **Add New Database User**.
    - Set a username and a strong password. **Save these credentials!**
4.  **Get Connection String**:
    - Click **Connect** ‚Üí **Connect your application**.
    - Copy the URI (e.g., `mongodb+srv://<db_user>:<password>@cluster0.abcde.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0`).
    - Replace `<password>` with your actual password.

---

## ‚öôÔ∏è Phase 2: Backend Deployment (Render/Railway)

The backend handles the API and real-time Socket.io connections.

### Options A: Render.com (Recommended)
1.  **Create Web Service**: In Render Dashboard, click **New +** ‚Üí **Web Service**.
2.  **Connect Repo**: Link your GitHub repository.
3.  **Configure Build Settings**:
    - **Root Directory**: `backend`
    - **Environment**: `Node`
    - **Build Command**: `npm install`
    - **Start Command**: `node index.js`
4.  **Add Environment Variables**:
    - `MONGO_URI`: Your MongoDB Atlas connection string.
    - `JWT_SECRET`: A random string for security (e.g., `super_secret_123`).
    - `PORT`: `10000` (Render's default).

### Options B: Railway.app (Fastest)
1.  Create a new project and select **GitHub Repo**.
2.  Set the **Root Directory** to `/backend`.
3.  Add the same Environment Variables as above. Railway will auto-detect the start command.

---

## üé® Phase 3: Frontend Deployment (Vercel)

Vercel is the gold standard for Next.js applications like Solo Human.

1.  **Import Project**: In Vercel, click **Add New...** ‚Üí **Project** and select your repo.
2.  **Configure Framework Settings**:
    - **Framework Preset**: Next.js (Auto-detected).
    - **Root Directory**: `frontend`.
3.  **Add Environment Variables**: This is the most critical step.
    - `NEXT_PUBLIC_API_URL`: The URL of your deployed backend (e.g., `https://solo-human-api.onrender.com`).
4.  **Deploy**: Click **Deploy**. Vercel will build and assign you a production URL.

---

## üìã Phase 4: Environment Variable Reference

| Variable | Location | Purpose | Example |
| :--- | :--- | :--- | :--- |
| `MONGO_URI` | Backend | Connects to your Atlas DB | `mongodb+srv://user:pass@...` |
| `JWT_SECRET` | Backend | Signs authentication tokens | `anything_random_and_long` |
| `PORT` | Backend | Internal port of the server | `10000` or `5000` |
| `NEXT_PUBLIC_API_URL` | Frontend | Tells the app where the API lives | `https://your-api.render.com` |

---

## üîí Phase 5: Production Polish (Optional but Recommended)

Once deployed, consider these security enhancements:

1.  **Restrict CORS**: 
    In `backend/index.js`, update the CORS configuration to point specifically to your Vercel URL instead of `*`.
2.  **JWT Expiration**:
    Ensure your tokens have an expiration set in the authentication logic (e.g., `7d` for 7 days).

---

## üîç Troubleshooting

- **Socket Connections Failing?** Ensure `NEXT_PUBLIC_API_URL` does NOT have a trailing slash (e.g., use `https://api.com` instead of `https://api.com/`).
- **Database Connection Error?** Double-check that your MongoDB Atlas **Network Access** allows `0.0.0.0/0`.
- **401 Unauthorized?** Ensure your `JWT_SECRET` matches between your code and your deployment environment.

---

**Generated by Antigravity AI** üöÄ
*Making Solo Living Epic.*
